import tornado.web


class DummyHandler(tornado.web.RequestHandler):
    def post(self):
        body = self.request.body
        if isinstance(body, bytes):
            body = body.decode("utf-8")

        self.dummy_write(body)

    def get(self):
        import json
        body = json.dumps({ k: self.get_argument(k) for k in self.request.arguments })

        self.dummy_write(body)

    def dummy_write(self, body):
        dd = DummyData()
        d = dd.sample()
        d["body"] = body
        self.write(d)


class DummyData():

    def __init__(self):
        # http://www.hungryforchange.tv/images/happypeople.jpg
        self.data = [
            {'mood': 'happy', 'tracks': [{'song_hotttnesss': 0.25734, 'artist_id': 'ARJS05S1187FB58F3A', 'title': 'Ripped Pants', 'images': [{'width': 640, 'height': 640, 'url': 'https://i.scdn.co/image/d8599785287a6fa7d7b0158dc24dc59d47463395'}, {'width': 300, 'height': 300, 'url': 'https://i.scdn.co/image/6b7031d9f3844bf5d12cfaedbaaa38ac14df7d08'}, {'width': 64, 'height': 64, 'url': 'https://i.scdn.co/image/93afa6cc4963c423ba9f9a76fcf557cdc81e246d'}], 'preview_url': None, 'track_url': 'https://open.spotify.com/track/2Kxmpi59X5HJKHBz1hQi7D', 'spotify_id': '2Kxmpi59X5HJKHBz1hQi7D', 'artist_name': 'SpongeBob SquarePants', 'track_id': 'TRNBZCJ144D0F2AD47'}, {'song_hotttnesss': 0.306913, 'artist_id': 'ARI4XHX1187B9A1216', 'title': 'I Eat Boys Like You For Breakfast', 'images': [{'width': 640, 'height': 640, 'url': 'https://i.scdn.co/image/1edb81258d4c6eb4ee2715b434e5a60a12034f56'}, {'width': 300, 'height': 300, 'url': 'https://i.scdn.co/image/f87fb30dc46e6c2129acaea68ed1ab06b53f782b'}, {'width': 64, 'height': 64, 'url': 'https://i.scdn.co/image/aafbf4813f4ad8ecbc0fc920ae876669a2dcf7a8'}], 'preview_url': 'https://p.scdn.co/mp3-preview/b8ca0f3ad620cef7e32016acb2fb17b5a60611a0', 'track_url': 'https://open.spotify.com/track/6Q0adGCmI9DclVg7cCj2Hh', 'spotify_id': '6Q0adGCmI9DclVg7cCj2Hh', 'artist_name': 'Ida Maria', 'track_id': 'TRFXQSU144D1A9F99E'}, {'song_hotttnesss': 0.141976, 'artist_id': 'ARZ5N871187B98F066', 'title': 'Electronic Lady', 'images': [{'width': 640, 'height': 640, 'url': 'https://i.scdn.co/image/30feebd7ccab481069f221122c8fa3e46d28a746'}, {'width': 300, 'height': 300, 'url': 'https://i.scdn.co/image/32e41650153703b1d59d292248a4f5ec9824edc4'}, {'width': 64, 'height': 64, 'url': 'https://i.scdn.co/image/d3901ca6364a146f71aed47332cccde8d830d05b'}], 'preview_url': None, 'track_url': 'https://open.spotify.com/track/5Gem2XTmsEpowJtFu3fXor', 'spotify_id': '5Gem2XTmsEpowJtFu3fXor', 'artist_name': 'Marque', 'track_id': 'TRFHBPI144D176B98E'}, {'song_hotttnesss': 0.382186, 'artist_id': 'AR3HH9N1187FB3FE72', 'title': 'Kick Out The Epic Motherf**ker', 'images': [{'width': 640, 'height': 640, 'url': 'https://i.scdn.co/image/8bfd9c0cea402e2da983a43f2751b1f023d76394'}, {'width': 300, 'height': 300, 'url': 'https://i.scdn.co/image/928c896b209e8f7300531158920c72988a06aa3d'}, {'width': 64, 'height': 64, 'url': 'https://i.scdn.co/image/9d04c43ec1926d2c1e71718ddf664ff7ea9c9ef7'}], 'preview_url': None, 'track_url': 'https://open.spotify.com/track/1p0oUSgOgeBuphbkdkiQrt', 'spotify_id': '1p0oUSgOgeBuphbkdkiQrt', 'artist_name': 'Dada Life', 'track_id': 'TRJKBYO147B6DF6144'}, {'song_hotttnesss': 0.197551, 'artist_id': 'ARHMVQB1187FB3F005', 'title': 'Section 17 (Suitcase Calling)', 'images': [{'width': 640, 'height': 633, 'url': 'https://i.scdn.co/image/259baddc9fb59bc552f1039a6cacff5a351a1fd5'}, {'width': 300, 'height': 297, 'url': 'https://i.scdn.co/image/ee6c543fe1f93fa20e504aa7730817b0411dac20'}, {'width': 64, 'height': 63, 'url': 'https://i.scdn.co/image/ec10d1cb4a526d9d2bd48f2d3d6bb34cc5a5ea5c'}], 'preview_url': 'https://p.scdn.co/mp3-preview/ae4f5fe04a66b44d80e03f0be8cf8bf1f9f74178', 'track_url': 'https://open.spotify.com/track/0FNnLT3ZqwqdHE4QtHPzMV', 'spotify_id': '0FNnLT3ZqwqdHE4QtHPzMV', 'artist_name': 'The Polyphonic Spree', 'track_id': 'TRBZDRK144D09AD2FB'}]},
            {'tracks': [{'title': 'Queen Of The World', 'song_hotttnesss': 0.273326, 'spotify_id': '2HOvY4vIsT2DaVXeVyq861', 'artist_id': 'ARI4XHX1187B9A1216', 'track_url': 'https://open.spotify.com/track/2HOvY4vIsT2DaVXeVyq861', 'preview_url': None, 'images': [{'width': 640, 'url': 'https://i.scdn.co/image/dde5bb8d10aff50119ba956566357de52b7dba29', 'height': 640}, {'width': 300, 'url': 'https://i.scdn.co/image/eaf11d52bb3b1ce8176c6837797d8fe55bdcb7f2', 'height': 300}, {'width': 64, 'url': 'https://i.scdn.co/image/9e183184d81210dbbb9537bd5e07ab863e1645bf', 'height': 64}], 'artist_name': 'Ida Maria', 'track_id': 'TRPENFQ144D0F006D1'}, {'title': 'Torture', 'song_hotttnesss': 0.252528, 'spotify_id': '79rIsbqmsjvz8umdE91J2s', 'artist_id': 'ARW3LUX1187FB5C4C0', 'track_url': 'https://open.spotify.com/track/79rIsbqmsjvz8umdE91J2s', 'preview_url': 'https://p.scdn.co/mp3-preview/49410673677c0bd27f9dc7fb0d84e03e09388b54', 'images': [{'width': 640, 'url': 'https://i.scdn.co/image/e247671f7b1eb7b3ba9780b951a945baa7003dbc', 'height': 640}, {'width': 300, 'url': 'https://i.scdn.co/image/e1ce1a11a212c3e0f5c2a834ed3c35ff6c24c391', 'height': 300}, {'width': 64, 'url': 'https://i.scdn.co/image/4c29a9373e2086311d80680269404d4abda22998', 'height': 64}], 'artist_name': 'The Jacksons', 'track_id': 'TRPSDAW144D1CD5CBD'}, {'title': 'Lucy', 'song_hotttnesss': 0.292374, 'spotify_id': '4M168pVBOF7HCAMGzvpMFS', 'artist_id': 'ARO7PQN1187FB3C99C', 'track_url': 'https://open.spotify.com/track/4M168pVBOF7HCAMGzvpMFS', 'preview_url': 'https://p.scdn.co/mp3-preview/32dcdc9ee1d479c8ae8ed6c07f7d5d13125d0969', 'images': [{'width': 640, 'url': 'https://i.scdn.co/image/bebe60f35e0693cba50f0e8978848c1af838becf', 'height': 640}, {'width': 300, 'url': 'https://i.scdn.co/image/73c02c14b4666383cc35997bb50a902d917f1c37', 'height': 300}, {'width': 64, 'url': 'https://i.scdn.co/image/2a5e0a9fb2724b01efb5e6c8dbbbc0594abbf962', 'height': 64}], 'artist_name': "I'm From Barcelona", 'track_id': 'TRGAZRR14B83A40C12'}, {'title': 'Come In Please', 'song_hotttnesss': 0.351067, 'spotify_id': '1IMmvES6bRbJXp8IEEIOY2', 'artist_id': 'ARQEBGJ122E6447D2B', 'track_url': 'https://open.spotify.com/track/1IMmvES6bRbJXp8IEEIOY2', 'preview_url': 'https://p.scdn.co/mp3-preview/22609f6389aae9b003632e3ec6f954f429470e88', 'images': [{'width': 640, 'url': 'https://i.scdn.co/image/972525c139bb27e9bb1a8aa6cd4d7d224c83c786', 'height': 640}, {'width': 300, 'url': 'https://i.scdn.co/image/679e37d5373c65e80f4efb034dcbdf877739b3ce', 'height': 300}, {'width': 64, 'url': 'https://i.scdn.co/image/29b19a3cee17a6f0527a92d530d7740179f1d907', 'height': 64}], 'artist_name': 'Edward Sharpe & the Magnetic Zeros', 'track_id': 'TRXPFYL144D0C63553'}, {'title': "Just Foolin' Round", 'song_hotttnesss': 0.0, 'spotify_id': '2OISQH2CrhGhgatF3XQFZS', 'artist_id': 'ARYOZLA1241B9CE28E', 'track_url': 'https://open.spotify.com/track/2OISQH2CrhGhgatF3XQFZS', 'preview_url': None, 'images': [{'width': 640, 'url': 'https://i.scdn.co/image/e74ed0ec75279eba12013621ff94cf022915d723', 'height': 640}, {'width': 300, 'url': 'https://i.scdn.co/image/cadb9c073ca459d3aa956027ed9955075aab24ee', 'height': 300}, {'width': 64, 'url': 'https://i.scdn.co/image/a0234413f4c399a19554e1a67a6dab4063c48399', 'height': 64}], 'artist_name': 'Brian Jett', 'track_id': 'TRKTQCB144D0F4B24D'}], 'mood': 'happy'}
        ]

    def sample(self):
        import random
        return random.sample(self.data, 1)[0]
